webpackJsonp([0],[,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Menus:{MAIN:0,COLOR_SELECT:1},States:{BOOT:"BootState",LOADING:"LoadingState",MENU:"MenuState",PLAY:"PlayState"}}},,,,,function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(30),f=n(c),h=function(e){function t(e,o,n,a){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.distance=a,s.numTrees=Math.ceil(s.game.world.width/(90+a))+1;for(var u=0;u<s.numTrees;u++){new f.default(s.game,s,u,o,n).restart(s.game.world.width+u*s.distance)}return s.firstTree=s.getAt(0),s.lastTree=s.getAt(s.length-1),s.currentTree=s.firstTree,s}return a(t,e),s(t,[{key:"checkVisibilty",value:function(){this.firstTree.getWorldX()<-this.firstTree.width&&(this.firstTree.restart(this.lastTree.getWorldX()+this.distance),this.firstTree=this._getNextTree(this.firstTree.index),this.lastTree=this._getNextTree(this.lastTree.index))}},{key:"_getNextTree",value:function(e){return this.getAt((e+1)%this.length)}},{key:"start",value:function(){for(var e=0;e<this.numTrees;e++)this.getAt(e).start()}},{key:"stop",value:function(){for(var e=0;e<this.numTrees;e++)this.getAt(e).stop()}},{key:"isColliding",value:function(e){return this.game.physics.arcade.collide(e,this.currentTree)}},{key:"activateNextTree",value:function(){this.currentTree=this._getNextTree(this.currentTree.index)}},{key:"hasPassed",value:function(e){return e.x>this.currentTree.getGapX()}}]),t}(l.default.Group);t.default=h},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,o){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,e.height-100,e.width,100,"img_ground"));return r.speed=o,r.game.add.existing(r),r}return r(t,e),a(t,[{key:"start",value:function(){this.autoScroll(this.speed,0)}},{key:"stop",value:function(){this.autoScroll(0,0)}}]),t}(u.default.TileSprite);t.default=l},function(e,t,o){e.exports=o(9)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(3),o(4);var s=o(0),u=n(s),l=o(1),c=n(l),f=o(14),h=n(f),d=o(15),p=n(d),g=o(16),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(g),b=function(e){function t(){i(this,t);var e=new p.default,o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.get("game")));o.config=e,o.save=new h.default(o);for(var n in c.default.States){var a=c.default.States[n];o.state.add(a,m[a])}return o.state.start(o.config.get("defaultState")),o}return a(t,e),t}(u.default.Game);window.Game=b},,,,,function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e),this.game=t,this._data={version:1,highscore:0,selectedColor:1},this._load()}return i(e,[{key:"_load",value:function(){var e=localStorage.getItem(this.game.config.get("game.name"));if(!e)return this._save();var t=JSON.parse(e);return t&&t.version&&t.version==this._data.version?void(this._data=t):this._save()}},{key:"_save",value:function(){localStorage.setItem(this.game.config.get("game.name"),JSON.stringify(this._data))}},{key:"get",value:function(e,t){return this._data.hasOwnProperty(e)?this._data[e]:t}},{key:"set",value:function(e,t){this._data[e]=t,this._save()}}]),e}();t.default=r},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(0),s=n(a),u=o(1),l=n(u),c=function(){function e(){i(this,e),this._data={game:{width:1024,height:768,enableDebug:!1,backgroundColor:"#89bfdc",renderer:s.default.CANVAS,name:"FlappyBirdJS"},defaultState:l.default.States.BOOT,availableColors:10,scoreGain:10,physics:{gravity:1300,flapForce:-400},trees:{gap:150,speed:-200,distance:300}}}return r(e,[{key:"get",value:function(e,t){for(var o=e.split("."),n=this._data;o.length>0;){var i=o.shift();if(!n.hasOwnProperty(i))return t;n=n[i]}return n}}]),e}();t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(17);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var i=o(28);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=o(29);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=o(33);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BootState=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u);o(5);var c=o(20),f=n(c),h=o(1),d=n(h);t.BootState=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"preload",value:function(){this.game.load.image("loading","assets/images/loading.png")}},{key:"create",value:function(){this.scale.scaleMode=l.default.ScaleManager.SHOW_ALL,this.scale.pageAlignVertically=!0,this.scale.pageAlignHorizontally=!0,this.game.stage.backgroundColor="#000000",this.game.physics.startSystem(l.default.Physics.ARCADE),this.game.physics.arcade.gravity.y=this.game.config.get("physics.gravity"),this.game.stage.disableVisibilityChange=!0,this.game.plugins.add(PhaserI18n.Plugin,{fallbackLng:"en",backend:{loadPath:"assets/locales/{{lng}}.json"},load:"languageOnly",debug:!1,detection:{order:["navigator"]}},f.default),this.game.state.start(d.default.States.LOADING)}}]),t}(l.default.State)},,,function(e,t,o){e.exports=o(21).default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(22),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),l=o(23),c=n(l),f=o(24),h=n(f),d=o(25),p=n(d),g=o(26),m=n(g),b=o(27),y=n(b),v=function(){function e(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.type="languageDetector",this.detectors={},this.init(t,o)}return a(e,[{key:"init",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.services=e,this.options=u.defaults(t,this.options||{},r()),this.i18nOptions=o,this.addDetector(c.default),this.addDetector(h.default),this.addDetector(p.default),this.addDetector(m.default),this.addDetector(y.default)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var o=[];e.forEach(function(e){if(t.detectors[e]){var n=t.detectors[e].lookup(t.options);n&&"string"==typeof n&&(n=[n]),n&&(o=o.concat(n))}});var n=void 0;return o.forEach(function(e){if(!n){var o=t.services.languageUtils.formatLanguageCode(e);t.services.languageUtils.isWhitelisted(o)&&(n=o)}}),n||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function(e,t){var o=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(function(t){o.detectors[t]&&o.detectors[t].cacheUserLanguage(e,o.options)}))}}]),e}();v.type="languageDetector",t.default=v},function(e,t,o){"use strict";function n(e){return a.call(s.call(arguments,1),function(t){if(t)for(var o in t)void 0===e[o]&&(e[o]=t[o])}),e}function i(e){return a.call(s.call(arguments,1),function(t){if(t)for(var o in t)e[o]=t[o]}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=n,t.extend=i;var r=[],a=r.forEach,s=r.slice},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={create:function(e,t,o,n){var i=void 0;if(o){var r=new Date;r.setTime(r.getTime()+60*o*1e3),i="; expires="+r.toGMTString()}else i="";n=n?"domain="+n+";":"",document.cookie=e+"="+t+i+";"+n+"path=/"},read:function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}};t.default={name:"cookie",lookup:function(e){var t=void 0;if(e.lookupCookie&&"undefined"!=typeof document){var o=n.read(e.lookupCookie);o&&(t=o)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&n.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"querystring",lookup:function(e){var t=void 0;if("undefined"!=typeof window)for(var o=window.location.search.substring(1),n=o.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(r>0){var a=n[i].substring(0,r);a===e.lookupQuerystring&&(t=n[i].substring(r+1))}}return t}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;try{n="undefined"!==window&&null!==window.localStorage;window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(e){n=!1}t.default={name:"localStorage",lookup:function(e){var t=void 0;if(e.lookupLocalStorage&&n){var o=window.localStorage.getItem(e.lookupLocalStorage);o&&(t=o)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&n&&window.localStorage.setItem(t.lookupLocalStorage,e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)t.push(navigator.languages[o]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"htmlTag",lookup:function(e){var t=void 0,o=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return o&&"function"==typeof o.getAttribute&&(t=o.getAttribute("lang")),t}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingState=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(1),f=n(c);t.LoadingState=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"preload",value:function(){var e=this.add.sprite(this.world.centerX,this.world.centerY,"loading");e.anchor.setTo(.5,.5),this.load.setPreloadSprite(e),this.game.load.spritesheet("img_bird","assets/images/img_bird.png",36,36,20),this.game.load.spritesheet("img_tree","assets/images/img_tree.png",90,400,2),this.game.load.image("img_ground","assets/images/img_ground.png"),this.load.bitmapFont("fnt_flappy","assets/fonts/fnt_flappy.png","assets/fonts/fnt_flappy.fnt"),this.load.locale(["en","de"],["translation"])}},{key:"create",value:function(){this.game.stage.backgroundColor=this.game.config.get("game.backgroundColor"),this.game.state.start(f.default.States.MENU)}}]),t}(l.default.State)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuState=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(1),f=n(c),h=o(6),d=n(h),p=o(7),g=n(p),m=o(31),b=n(m),y=o(32),v=n(y);t.MenuState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.menus=[],e}return a(t,e),s(t,[{key:"create",value:function(){this.trees=new d.default(this.game,this.game.config.get("trees.gap"),this.game.config.get("trees.speed"),this.game.config.get("trees.distance")),this.trees.start(),this.ground=new g.default(this.game,this.game.config.get("trees.speed")),this.ground.start(),this.title=this.game.add.bitmapText(this.game.world.centerX,128,"fnt_flappy","Flappy Bird JS",128),this.title.anchor.setTo(.5),this.highscore=this.game.add.translatedBitmapText(this.game.world.centerX,250,"fnt_flappy","highscore",48,"left",{score:this.game.save.get("highscore")}),this.highscore.anchor.setTo(.5),this.menus[f.default.Menus.MAIN]=new b.default(this.game,this),this.menus[f.default.Menus.MAIN].draw(),this.game.add.existing(this.menus[f.default.Menus.MAIN]),this.menus[f.default.Menus.COLOR_SELECT]=new v.default(this.game,this),this.menus[f.default.Menus.COLOR_SELECT].draw(),this.game.add.existing(this.menus[f.default.Menus.COLOR_SELECT]),this.changeMenu(f.default.Menus.MAIN)}},{key:"update",value:function(){this.trees.checkVisibilty(),this.menus[this.curMenu].handle()}},{key:"changeMenu",value:function(e){if(!(e>=this.menus.length||e<0)){for(var t=0;t<this.menus.length;t++)this.menus[t].visible=!1;this.menus[e].visible=!0,this.curMenu=e}}}]),t}(l.default.State)},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,o,r,a,s){n(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return l.index=r,l.speed=s,l.topTree=new u.default.Sprite(l.game,0,0,"img_tree",0),l.bottomTree=new u.default.Sprite(l.game,0,0,"img_tree",1),l.game.physics.arcade.enableBody(l.topTree),l.game.physics.arcade.enableBody(l.bottomTree),l.topTree.body.allowGravity=!1,l.topTree.body.immovable=!0,l.bottomTree.body.allowGravity=!1,l.bottomTree.body.immovable=!0,l.add(l.topTree),l.add(l.bottomTree),l.gap=Math.min(l.game.world.height-320,a),l.topMin=110-l.topTree.height,l.topMax=l.game.world.height-l.topTree.height-l.gap-210,l.running=!1,l}return r(t,e),a(t,[{key:"restart",value:function(e){this.topTree.reset(0,0),this.bottomTree.reset(0,this.topTree.height+this.gap),this.x=e,this.y=this.game.rnd.integerInRange(this.topMin,this.topMax),this.running&&this.setAll("body.velocity.x",this.speed)}},{key:"getWorldX",value:function(){return this.topTree.world.x}},{key:"start",value:function(){this.setAll("body.velocity.x",this.speed),this.running=!0}},{key:"stop",value:function(){this.setAll("body.velocity.x",0),this.running=!1}},{key:"getGapX",value:function(){return this.bottomTree.world.x+this.bottomTree.width}}]),t}(u.default.Group);t.default=l},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(1),f=n(c),h=function(e){function t(e,o){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=o,n.visible=!1,n.curSel=0,n.curColor=n.game.save.get("selectedColor"),n.items=[{text:"start",action:function(){this.game.state.start(f.default.States.PLAY)}}],n.game.config.get("availableColors",1)>1&&n.items.push({text:"colorSelect",action:function(){this.state.changeMenu(f.default.Menus.COLOR_SELECT)}}),n.fontSize=64,n.fontSizeHighlight=74,n.selectorSpace=16,n}return a(t,e),s(t,[{key:"draw",value:function(){for(var e=this,t=(this.fontSize+16)*this.items.length-16,o=this.game.world.centerY-t/2,n=0;n<this.items.length;n++)!function(t){var n=Math.floor(o+(e.fontSize+16)*t),i=t==e.curSel&&!l.default.Device.touch;e.items[t].obj=e.game.add.translatedBitmapText(e.game.world.centerX,n,"fnt_flappy",e.items[t].text,i?e.fontSizeHighlight:e.fontSize,null,null,e),e.items[t].obj.anchor.setTo(.5,0),e.items[t].obj.inputEnabled=!0,e.items[t].obj.events.onInputOver.add(function(){this._setSelected(t)},e),e.items[t].obj.events.onInputDown.add(function(){this.items[this.curSel].action.call(this)},e),e.items[t].y=n}(n);var i=Math.floor(this.items[this.curSel].obj.centerX-this.items[this.curSel].obj.width/2-this.selectorSpace);this.selector=this.game.add.sprite(i,this.items[this.curSel].y,"img_bird",1,this),this.selector.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selector.animations.play("flap",8,!0),this.selector.anchor.setTo(1,-.5),this.selector.visible=!l.default.Device.touch,l.default.Device.touch&&(this.selectedColor=this.game.add.sprite(this.game.world.centerX,this.game.world.height-200,"img_bird",1,this),this.selectedColor.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selectedColor.animations.play("flap",8,!0),this.selectedColor.anchor.set(.5))}},{key:"handle",value:function(){var e=(this.curSel,this.game.input.keyboard.createCursorKeys()),t=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);this.curColor!=this.game.save.get("selectedColor")&&(this.curColor=this.game.save.get("selectedColor"),this.selector.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selector.animations.play("flap",8,!0),this.selectedColor&&(this.selectedColor.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selectedColor.animations.play("flap",8,!0))),e.down.justPressed()?this._setSelected(Math.min(this.items.length-1,this.curSel+1)):e.up.justPressed()?this._setSelected(Math.max(0,this.curSel-1)):t.justPressed()&&this.items[this.curSel].action.call(this)}},{key:"_setSelected",value:function(e){var t=this.curSel;if(this.curSel=e,t!=this.curSel){var o=!l.default.Device.touch;this.items[t].obj.fontSize=this.fontSize,this.items[this.curSel].obj.fontSize=o?this.fontSizeHighlight:this.fontSize;var n=Math.floor(this.items[this.curSel].obj.centerX-this.items[this.curSel].obj.width/2-this.selectorSpace);this.selector.x=n,this.selector.y=this.items[this.curSel].y}}}]),t}(l.default.Group);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(1),f=n(c),h=function(e){function t(e,o){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state=o,n.visible=!1,n.curSel=n.game.save.get("selectedColor"),n.items=[];for(var a=0;a<n.game.config.get("availableColors");a++)n.items.push({sprite:"img_bird",frame:2*a});return n.imgWidth=36,n.scl=1,n.sclHighlight=1.5,n.selectorSpace=16,n}return a(t,e),s(t,[{key:"draw",value:function(){for(var e=this,t=this.items.length*(this.imgWidth+36)-36,o=this.game.world.centerX-t/2,n=0;n<this.items.length;n++)!function(t){var n=Math.floor(o+(e.imgWidth+36)*t),i=t==e.curSel&&!l.default.Device.touch;e.items[t].obj=e.game.add.sprite(n,e.game.world.centerY,"img_bird",2*t,e),e.items[t].obj.scale.setTo(i?e.sclHighlight:e.scl),e.items[t].obj.anchor.set(.5),e.items[t].obj.animations.add("anim",[e.items[t].frame,e.items[t].frame+1]),e.items[t].obj.animations.play("anim",8,!0),e.items[t].obj.inputEnabled=!0,e.items[t].obj.events.onInputOver.add(function(){this._setSelected(t)},e),e.items[t].obj.events.onInputDown.add(function(){this._setColor(t)},e),e.items[t].x=n}(n);var i=Math.floor(this.items[this.curSel].obj.centerY+this.items[this.curSel].obj.height+this.selectorSpace);this.selector=this.game.add.bitmapText(this.items[this.curSel].x,i,"fnt_flappy","^",54,this),this.selector.anchor.setTo(.5),this.selector.visible=!l.default.Device.touch}},{key:"handle",value:function(){var e=(this.curSel,this.game.input.keyboard.createCursorKeys()),t=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);e.right.justPressed()?this._setSelected(Math.min(this.items.length-1,this.curSel+1)):e.left.justPressed()?this._setSelected(Math.max(0,this.curSel-1)):t.justPressed()&&this._setColor(this.curSel)}},{key:"_setColor",value:function(e){this.game.save.set("selectedColor",e),this.state.changeMenu(f.default.Menus.MAIN)}},{key:"_setSelected",value:function(e){var t=this.curSel;if(this.curSel=e,t!=this.curSel){var o=!l.default.Device.touch;this.items[t].obj.scale.setTo(this.scl),this.items[this.curSel].obj.scale.setTo(o?this.sclHighlight:this.scl);var n=Math.floor(this.items[this.curSel].obj.centerY+this.items[this.curSel].obj.height+this.selectorSpace);this.selector.y=n,this.selector.x=this.items[this.curSel].x}}}]),t}(l.default.Group);t.default=h},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayState=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),l=n(u),c=o(1),f=n(c),h=o(6),d=n(h),p=o(7),g=n(p),m=o(34),b=n(m);t.PlayState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.beginFontSize=256,e.endFontSize=32,e}return a(t,e),s(t,[{key:"create",value:function(){this.countdownPosition=3,this.started=!1,this.gameover=!1,this.score=0,this.input.onTap.add(this._onTap,this),this.trees=new d.default(this.game,this.game.config.get("trees.gap"),this.game.config.get("trees.speed"),this.game.config.get("trees.distance")),this.ground=new g.default(this.game,this.game.config.get("trees.speed")),this.bird=new b.default(this.game,200,this.game.world.centerY),this.scoreBoard=this.game.add.bitmapText(this.game.world.centerX,100,"fnt_flappy",this.score+"",96),this.scoreBoard.anchor.setTo(.5),this.scoreBoard.visible=!1;var e="spaceToContinue";l.default.Device.touch&&(e="tapToContinue"),this.gameoverHeadline=this.game.add.translatedBitmapText(this.game.world.centerX,this.game.world.centerY-50,"fnt_flappy","gameover",160),this.gameoverHeadline.anchor.setTo(.5),this.gameoverHeadline.visible=!1,this.gameoverSubline=this.game.add.translatedBitmapText(this.game.world.centerX,this.game.world.centerY+70,"fnt_flappy",e,64),this.gameoverSubline.anchor.setTo(.5),this.gameoverSubline.visible=!1,this.highscoreMessage=this.game.add.translatedBitmapText(this.game.world.centerX,200,"fnt_flappy","newHighscore",64),this.highscoreMessage.anchor.setTo(.5),this.highscoreMessage.visible=!1,this.countdown=this.game.add.translatedBitmapText(this.game.world.centerX,200,"fnt_flappy",this.countdownPosition,this.beginFontSize),this.countdown.anchor.setTo(.5),this.countdownTween=this.game.add.tween(this.countdown),this.countdownTween.to({fontSize:this.endFontSize,alpha:0},1e3,l.default.Easing.Linear.None),this.countdownTween.onComplete.add(this._countdown,this),this.countdownTween.start()}},{key:"_countdown",value:function(){this.countdownPosition--,this.countdownPosition>-1?(this.countdown.setText(this.countdownPosition>0?this.countdownPosition:"go"),this.countdown.alpha=1,this.countdown.fontSize=this.beginFontSize,this.countdownTween.start()):(this.started=!0,this.trees.start(),this.ground.start(),this.bird.start(),this.scoreBoard.visible=!0)}},{key:"_gameover",value:function(){this.started=!1,this.trees.stop(),this.ground.stop(),this.bird.stop(),this.gameoverTween=this.game.add.tween(this.bird),this.gameoverTween.to({y:[this.bird.y-100,this.game.world.height+this.bird.height]},1e3,l.default.Easing.Linear.None),this.gameoverTween.interpolation(l.default.Math.catmullRomInterpolation),this.gameoverTween.onComplete.add(this._gameoverComplete,this),this.gameoverTween.start()}},{key:"_gameoverComplete",value:function(){this.gameoverHeadline.visible=!0,this.gameoverSubline.visible=!0,this.score>this.game.save.get("highscore")&&(this.highscoreMessage.visible=!0,this.game.save.set("highscore",this.score)),this.gameover=!0}},{key:"_onTap",value:function(){this.started&&this.bird.flap(),this.gameover&&this.game.state.start(f.default.States.MENU)}},{key:"update",value:function(){var e=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);if(this.trees.checkVisibilty(),this.started){if(e.justPressed()&&this.bird.flap(),this.bird.y+this.bird.height>this.game.world.height-this.ground.height||this.bird.y<-this.bird.height)return this._gameover();if(this.trees.isColliding(this.bird))return this._gameover();this.trees.hasPassed(this.bird)&&(this.score+=this.game.config.get("scoreGain"),this.scoreBoard.setText(this.score),this.trees.activateNextTree())}this.gameover&&e.justPressed()&&this.game.state.start(f.default.States.MENU)}}]),t}(l.default.State)},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,o,r){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,r,"img_bird"));return a.game.physics.arcade.enableBody(a),a.body.moves=!1,a.body.immovable=!0,a.baseFrame=2*a.game.save.get("selectedColor"),a.animations.add("flap",[a.baseFrame,a.baseFrame+1]),a.frame=a.baseFrame,a.game.add.existing(a),a}return r(t,e),a(t,[{key:"start",value:function(){this.animations.play("flap",8,!0),this.body.moves=!0,this.body.immovable=!1}},{key:"stop",value:function(){this.animations.stop("flap",!0),this.frame=this.baseFrame,this.body.moves=!1,this.body.immovable=!0}},{key:"flap",value:function(){this.body.velocity.y=this.game.config.get("physics.flapForce")}}]),t}(u.default.Sprite);t.default=l}],[8]);